---
title: 二叉树后序遍历（非递归）
date: 2018-03-29 09:39:37
tags: LeetCode
---

#### 题目地址

[LeetCode#145 二叉树后序遍历-非递归](https://leetcode-cn.com/problems/binary-tree-postorder-traversal/description/)

#### 题目描述

&emsp;&emsp;给定一棵二叉树，返回其节点值的后序遍历。

<!--more-->

例如：
给定二叉树 `[1,null,2,3]`，

```
   1
    \
     2
    /
   3
```

返回 `[3,2,1]`。

**注意:** 递归方法很简单，你可以使用迭代方法来解决吗？

#### 解题思路

&emsp;&emsp;后序遍历的非递归实现

#### 解题代码

```c++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Solution {
public:
    vector<int> postorderTraversal(TreeNode* root) {
        stack<TreeNode*> s;
        TreeNode *p = root , *tmp = nullptr;
        vector<int> res(0);
        while (p || !s.empty()){
            while (p) {s.push(p); p = p->left;}
            if (!s.empty()){
                p = s.top();
                if (!p->right || p->right == tmp){
                    s.pop();
                    tmp = p;
                    res.push_back(p->val);
                    p = 0;
                } else {
                    p = p->right;
                }
            }
        }
        return res;
    }
};
```

